{"version":3,"sources":["Components/Modal/Modal.module.css","App.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Loader/Loader.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Modal/Modal.js","App.js","index.js","Components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","style","SearchForm","e","preventDefault","trim","type","SearchForm_button","SearchForm_button_label","onChange","currentTarget","value","toLowerCase","SearchForm_input","placeholder","ImageGalleryItem","props","src","alt","ImageGalleryItem_image","LoaderFoo","color","height","width","timeout","ImageGallery","page","isDone","setIsDone","showSpiner","setShowSpiner","useEffect","localStorage","setItem","fetchRequest","fetch","then","r","json","hit","saveImg","JSON","parse","getItem","push","hits","stringify","window","scrollTo","top","document","documentElement","scrollHeight","behavior","images","length","map","id","webformatURL","user","centred","Button","onClick","modalRoot","getElementById","Modal","onClose","addEventListener","closeModalByClickESC","removeEventListener","code","createPortal","Overlay","target","heigth","App","setPage","showModal","setShowModal","large","setLarge","setAlt","findImg","findImgforModal","find","largeImageURL","state","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.75f5bea4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2D1wt\",\"Modal\":\"Modal_Modal__24oGi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1nxRe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1su7Q\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1-pBz\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1odqs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__o0m1M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1QUjb\",\"SearchForm\":\"Searchbar_SearchForm__2b46i\",\"SearchForm_button\":\"Searchbar_SearchForm_button__dEKuY\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__2DGx1\",\"SearchForm_input\":\"Searchbar_SearchForm_input__3HoB5\"};","import { useState } from \"react\";\r\nimport style from \"./Searchbar.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function Searchbar({onSubmit}) {\r\n  const [query, setQuery] = useState('')\r\n\r\n  const searchItem = (e) => {\r\n    setQuery(e.currentTarget.value.toLowerCase());\r\n  };\r\n  const searchButton = (e) => {\r\n    e.preventDefault();\r\n    if (query.trim() === \"\") {\r\n      return;\r\n    }\r\n    onSubmit(query);\r\n    setQuery(\"\");\r\n  };\r\n\r\n    return (\r\n      <header className={style.Searchbar}>\r\n        <form className={style.SearchForm} onSubmit={searchButton}>\r\n          <button type=\"submit\" className={style.SearchForm_button}>\r\n            <span className={style.SearchForm_button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={searchItem}\r\n            className={style.SearchForm_input}\r\n            type=\"text\"\r\n            //   autocomplete=\"off\"\r\n            //   autofocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };","import PropTypes from \"prop-types\";\r\nimport style from \"./ImageGalleryItem.module.css\";\r\n\r\nexport default function ImageGalleryItem(props) {\r\n  const { src, alt } = props;\r\n  return <img src={src} alt={alt} className={style.ImageGalleryItem_image} />;\r\n}\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n};\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default function LoaderFoo() {\r\n  return (\r\n    <Loader\r\n      type=\"Puff\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={100000} //3 secs\r\n    />\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport style from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport LoaderFoo from \"../Loader\";\r\n\r\nexport default function ImageGallery({ query, page }) {\r\n  const [isDone, setIsDone] = useState(false);\r\n  const [showSpiner, setShowSpiner] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (query === \"\") return\r\n    if (page === 1) {\r\n      localStorage.setItem(\"images\", \"[]\");\r\n    }\r\n    \r\n    fetchRequest()\r\n  }, [query, page])\r\n\r\n  const fetchRequest = () => {\r\n    setShowSpiner(true);\r\n    fetch(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=23320531-e67f94e9f6229e6b46894ace7&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n      .then((r) => r.json())\r\n      .then((hit) => {\r\n        const saveImg = JSON.parse(localStorage.getItem(\"images\"));\r\n        saveImg.push(...hit.hits);\r\n        localStorage.setItem(\"images\", JSON.stringify(saveImg));\r\n        setShowSpiner(false);\r\n        setIsDone(true);\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      });\r\n  };\r\n\r\n  const images = JSON.parse(localStorage.getItem(\"images\"));\r\n  return (\r\n    <>\r\n      {isDone && (\r\n        <ul className={style.ImageGallery}>\r\n          {images.length !== 0 &&\r\n            images.map(({ id, webformatURL, user }) => (\r\n              <li key={id}>\r\n                <ImageGalleryItem src={webformatURL} alt={user} />\r\n              </li>\r\n            ))}\r\n        </ul>\r\n      )}\r\n      {showSpiner && (\r\n        <div className={style.centred}>\r\n          <LoaderFoo />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  query: PropTypes.string.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n};\r\n","import PropTypes from 'prop-types'\r\nimport style from \"./Button.module.css\"\r\n\r\nexport default function Button({onClick}) {\r\n    return (<button type=\"button\" className={style.Button} onClick={onClick}>Load more</button>)\r\n}\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n}","import { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { createPortal } from \"react-dom\";\r\nimport style from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.getElementById(\"modal-root\");\r\n\r\nexport default function Modal(props) {\r\n  const { src, onClose, alt } = props;\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", closeModalByClickESC);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", closeModalByClickESC);\r\n    };\r\n  });\r\n  const closeModalByClickESC = (e) => {\r\n    if (e.code === \"Escape\") onClose();\r\n  };\r\n\r\n  const handleClickBackdrop = (e) => {\r\n    if (e.target === e.currentTarget) onClose();\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={style.Overlay} onClick={handleClickBackdrop}>\r\n      <div className={style.Modal} width=\"300\" heigth=\"300\">\r\n        <img src={src} alt={alt} />\r\n      </div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  src: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n};\r\n","import style from \"./App.module.css\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Searchbar from \"./Components/Searchbar\";\r\nimport ImageGallery from \"./Components/ImageGallery\";\r\nimport Button from \"./Components/Button\";\r\nimport Modal from \"./Components/Modal\";\r\n\r\nfunction App() {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [large, setLarge] = useState(null);\r\n  const [alt, setAlt] = useState(null);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"images\", \"[]\");\r\n    window.addEventListener(\"click\", (e) => {\r\n      const findImg = e.target.src;\r\n      const arrImg = JSON.parse(localStorage.getItem(\"images\"));\r\n      const findImgforModal = arrImg.find((e) => e.webformatURL === findImg);\r\n      if (findImgforModal) {\r\n        setLarge(findImgforModal.largeImageURL);\r\n        setAlt(findImgforModal.user);\r\n        setShowModal(true);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const onClose = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  const handleFormSubmit = (query) => {\r\n    setQuery(query);\r\n    setPage(1);\r\n  };\r\n\r\n  const clickLoadMore = (e) => {\r\n    e.preventDefault();\r\n    setPage(state => state + 1)\r\n  };\r\n\r\n  return (\r\n    <div className={style.App}>\r\n      <Searchbar onSubmit={handleFormSubmit} />\r\n      <ImageGallery query={query} page={page} />\r\n\r\n      {query !== \"\" && <Button onClick={clickLoadMore} />}\r\n      {showModal && <Modal src={large} onClose={onClose} alt={alt} />}\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1BPbX\",\"centred\":\"ImageGallery_centred__8oMIW\"};"],"sourceRoot":""}