(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2D1wt",Modal:"Modal_Modal__24oGi"}},11:function(e,t,a){e.exports={App:"App_App__1nxRe"}},12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1su7Q",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__1-pBz","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__1odqs"}},14:function(e,t,a){e.exports={Button:"Button_Button__o0m1M"}},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1QUjb",SearchForm:"Searchbar_SearchForm__2b46i",SearchForm_button:"Searchbar_SearchForm_button__dEKuY",SearchForm_button_label:"Searchbar_SearchForm_button_label__2DGx1",SearchForm_input:"Searchbar_SearchForm_input__3HoB5"}},42:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(6),o=a.n(n),s=a(3),l=a(11),i=a.n(l),u=a(4),m=a.n(u),b=a(1);function j(e){var t=e.onSubmit,a=Object(r.useState)(""),c=Object(s.a)(a,2),n=c[0],o=c[1];return Object(b.jsx)("header",{className:m.a.Searchbar,children:Object(b.jsxs)("form",{className:m.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==n.trim()&&(t(n),o(""))},children:[Object(b.jsx)("button",{type:"submit",className:m.a.SearchForm_button,children:Object(b.jsx)("span",{className:m.a.SearchForm_button_label,children:"Search"})}),Object(b.jsx)("input",{onChange:function(e){o(e.currentTarget.value.toLowerCase())},className:m.a.SearchForm_input,type:"text",placeholder:"Search images and photos"})]})})}var h=a(15),g=a(9),_=a.n(g),d=a(12),p=a.n(d);function O(e){var t=e.src,a=e.alt;return Object(b.jsx)("img",{src:t,alt:a,className:p.a.ImageGalleryItem_image})}var f=a(13),S=a.n(f);a(41);function I(){return Object(b.jsx)(S.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:1e5})}function x(e){var t=e.query,a=e.page,c=Object(r.useState)(!1),n=Object(s.a)(c,2),o=n[0],l=n[1],i=Object(r.useState)(!1),u=Object(s.a)(i,2),m=u[0],j=u[1];Object(r.useEffect)((function(){""!==t&&(1===a&&localStorage.setItem("images","[]"),g())}),[t,a]);var g=function(){j(!0),fetch("https://pixabay.com/api/?q=".concat(t,"&page=").concat(a,"&key=23320531-e67f94e9f6229e6b46894ace7&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){var t=JSON.parse(localStorage.getItem("images"));t.push.apply(t,Object(h.a)(e.hits)),localStorage.setItem("images",JSON.stringify(t)),j(!1),l(!0),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))},d=JSON.parse(localStorage.getItem("images"));return Object(b.jsxs)(b.Fragment,{children:[o&&Object(b.jsx)("ul",{className:_.a.ImageGallery,children:0!==d.length&&d.map((function(e){var t=e.id,a=e.webformatURL,r=e.user;return Object(b.jsx)("li",{children:Object(b.jsx)(O,{src:a,alt:r})},t)}))}),m&&Object(b.jsx)("div",{className:_.a.centred,children:Object(b.jsx)(I,{})})]})}var y=a(14),v=a.n(y);function w(e){var t=e.onClick;return Object(b.jsx)("button",{type:"button",className:v.a.Button,onClick:t,children:"Load more"})}var G=a(10),F=a.n(G),N=document.getElementById("modal-root");function k(e){var t=e.src,a=e.onClose,c=e.alt;Object(r.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&a()};return Object(n.createPortal)(Object(b.jsx)("div",{className:F.a.Overlay,onClick:function(e){e.target===e.currentTarget&&a()},children:Object(b.jsx)("div",{className:F.a.Modal,width:"300",heigth:"300",children:Object(b.jsx)("img",{src:t,alt:c})})}),N)}var E=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(1),o=Object(s.a)(n,2),l=o[0],u=o[1],m=Object(r.useState)(!1),h=Object(s.a)(m,2),g=h[0],_=h[1],d=Object(r.useState)(null),p=Object(s.a)(d,2),O=p[0],f=p[1],S=Object(r.useState)(null),I=Object(s.a)(S,2),y=I[0],v=I[1];return Object(r.useEffect)((function(){localStorage.setItem("images","[]"),window.addEventListener("click",(function(e){var t=e.target.src,a=JSON.parse(localStorage.getItem("images")).find((function(e){return e.webformatURL===t}));a&&(f(a.largeImageURL),v(a.user),_(!0))}))}),[]),Object(b.jsxs)("div",{className:i.a.App,children:[Object(b.jsx)(j,{onSubmit:function(e){c(e),u(1)}}),Object(b.jsx)(x,{query:a,page:l}),""!==a&&Object(b.jsx)(w,{onClick:function(e){e.preventDefault(),u((function(e){return e+1}))}}),g&&Object(b.jsx)(k,{src:O,onClose:function(){_(!1)},alt:y})]})};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(E,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1BPbX",centred:"ImageGallery_centred__8oMIW"}}},[[42,1,2]]]);
//# sourceMappingURL=main.75f5bea4.chunk.js.map