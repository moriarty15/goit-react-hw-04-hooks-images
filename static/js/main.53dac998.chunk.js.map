{"version":3,"sources":["App.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Modal/Modal.js","Components/Loader/Loader.js","App.js","Components/fetchImages.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","style","SearchForm","e","preventDefault","trim","type","SearchForm_button","SearchForm_button_label","onChange","currentTarget","value","toLowerCase","SearchForm_input","placeholder","ImageGalleryItem","src","ImageGalleryItem_image","alt","ImageGallery","images","length","map","id","webformatURL","Button","onClick","modalRoot","document","getElementById","Modal","onClose","useEffect","window","addEventListener","closeModalByClickESC","removeEventListener","code","createPortal","Overlay","target","width","heigth","LoaderFoo","color","height","timeout","App","setImages","page","setPage","showModal","setShowModal","showSpiner","setShowSpiner","large","setLarge","openModal","fetchRequest","findImg","findImgModal","find","largeImageURL","fetch","then","r","json","fetchImages","hit","total","alert","arrEx","hits","scrollTo","top","documentElement","scrollHeight","behavior","catch","state","centred","ReactDOM","render"],"mappings":"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","file":"static/js/main.53dac998.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1nxRe\",\"centred\":\"App_centred__2tZP_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2D1wt\",\"Modal\":\"Modal_Modal__24oGi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1BPbX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1su7Q\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1-pBz\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1odqs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__o0m1M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1QUjb\",\"SearchForm\":\"Searchbar_SearchForm__2b46i\",\"SearchForm_button\":\"Searchbar_SearchForm_button__dEKuY\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__2DGx1\",\"SearchForm_input\":\"Searchbar_SearchForm_input__3HoB5\"};","import { useState } from \"react\";\r\nimport style from \"./Searchbar.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function Searchbar({onSubmit}) {\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  const searchItem = (e) => {\r\n    setQuery( e.currentTarget.value.toLowerCase());\r\n  };\r\n  const searchButton = (e) => {\r\n    e.preventDefault();\r\n    if (query.trim() === \"\") {\r\n      return;\r\n    }\r\n    onSubmit(query);\r\n    setQuery(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className={style.Searchbar}>\r\n      <form className={style.SearchForm} onSubmit={searchButton}>\r\n        <button type=\"submit\" className={style.SearchForm_button}>\r\n          <span className={style.SearchForm_button_label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          onChange={searchItem}\r\n          className={style.SearchForm_input}\r\n          type=\"text\"\r\n          // autocomplete=\"off\"\r\n          // autofocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport style from \"./ImageGalleryItem.module.css\";\r\n\r\nexport default function ImageGalleryItem({src}) {\r\n  return <img src={src} className={style.ImageGalleryItem_image} alt=\"images\" />;\r\n}\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport style from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\n\r\nexport default function ImageGallery({ images }) {\r\n  return (\r\n    <>\r\n      {\r\n        images.length !== 0 && <ul className={style.ImageGallery}>\r\n          {\r\n            images.map(({ id, webformatURL }) => (\r\n              <li key={id}>\r\n                <ImageGalleryItem src={webformatURL} />\r\n              </li>\r\n            ))}\r\n        </ul>\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.object),\r\n};\r\n","import PropTypes from 'prop-types'\r\nimport style from \"./Button.module.css\"\r\n\r\nexport default function Button({onClick}) {\r\n    return (<button type=\"button\" className={style.Button} onClick={onClick}>Load more</button>)\r\n}\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n}","import { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { createPortal } from \"react-dom\";\r\nimport style from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.getElementById(\"modal-root\");\r\n\r\nexport default function Modal({ src, onClose }) {\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', closeModalByClickESC)\r\n\r\n    return ()=>{window.removeEventListener('keydown', closeModalByClickESC)}\r\n  })\r\n\r\n  const closeModalByClickESC = (e) => {\r\n    if (e.code === \"Escape\") onClose();\r\n  };\r\n\r\n  const handleClickBackdrop = (e) => {\r\n    if (e.target === e.currentTarget) onClose();\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={style.Overlay} onClick={handleClickBackdrop}>\r\n      <div className={style.Modal} width=\"300\" heigth=\"300\">\r\n        <img src={src} alt=\"images\" />\r\n      </div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  src: PropTypes.string.isRequired,\r\n};\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default function LoaderFoo() {\r\n  return (\r\n    <Loader\r\n      type=\"Puff\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={100000} //3 secs\r\n    />\r\n  );\r\n}\r\n","import style from \"./App.module.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Searchbar from \"./Components/Searchbar\";\r\nimport ImageGallery from \"./Components/ImageGallery\";\r\nimport Button from \"./Components/Button\";\r\nimport Modal from \"./Components/Modal\";\r\nimport Loader from \"./Components/Loader\";\r\nimport fetchImages from \"./Components/fetchImages\";\r\n\r\nfunction App() {\r\n  const [images, setImages] = useState([]);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [showSpiner, setShowSpiner] = useState(false);\r\n  const [large, setLarge] = useState(null);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"click\", openModal);\r\n    return () => {\r\n      window.removeEventListener(\"click\", openModal);\r\n    };\r\n  }, [images]);\r\n\r\n  useEffect(() => {\r\n    if (query.trim() === \"\") {\r\n      return;\r\n    }\r\n    fetchRequest();\r\n  }, [query, page]);\r\n\r\n  const openModal = (e) => {\r\n    const findImg = e.target.src;\r\n    const findImgModal = images.find((e) => e.webformatURL === findImg);\r\n    if (findImgModal) {\r\n      setLarge(findImgModal.largeImageURL);\r\n      setShowModal(true);\r\n    }\r\n  };\r\n\r\n  const onClose = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  const handleFormSubmit = (query) => {\r\n    setQuery(query);\r\n    setPage(1);\r\n  };\r\n\r\n  const clickLoadMore = (e) => {\r\n    e.preventDefault();\r\n    setPage((state) => state + 1);\r\n  };\r\n\r\n  const fetchRequest = () => {\r\n    setShowSpiner(true);\r\n\r\n    fetchImages(query, page)\r\n      .then((hit) => {\r\n        if (hit.total === 0) {\r\n          setShowSpiner(false);\r\n          alert(\r\n            \"По данному запросу ничего не найдено, сделайте запрос более специфичным\"\r\n          );\r\n          return;\r\n        }\r\n\r\n        const arrEx = hit.hits.map(({ id, largeImageURL, webformatURL }) => {\r\n          return { id, largeImageURL, webformatURL };\r\n        });\r\n        if (page === 1) {\r\n          setImages([...arrEx]);\r\n        } else {\r\n          setImages([...images, ...arrEx]);\r\n        }\r\n\r\n        setShowSpiner(false);\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      })\r\n      .catch((e) => {\r\n        alert(\"Ой, что-то пошло не так\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className={style.App}>\r\n      <Searchbar onSubmit={handleFormSubmit} />\r\n      <ImageGallery images={images} />\r\n\r\n      {images.length >= 12 && <Button onClick={clickLoadMore} />}\r\n      {showModal && <Modal src={large} onClose={onClose} />}\r\n      {showSpiner && (\r\n        <div className={style.centred}>\r\n          <Loader />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n","export default function fetchImages(query, page) {\r\n    return fetch(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=23320531-e67f94e9f6229e6b46894ace7&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n      .then((r) => r.json())\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  // <React.StrictMode>\n    <App/>\n  // </React.StrictMode>\n  ,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}