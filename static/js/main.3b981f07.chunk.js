(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2D1wt",Modal:"Modal_Modal__24oGi"}},12:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1BPbX"}},13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1su7Q",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__1-pBz","ImageGalleryItem-image":"ImageGalleryItem_ImageGalleryItem-image__1odqs"}},14:function(e,t,a){e.exports={Button:"Button_Button__o0m1M"}},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1QUjb",SearchForm:"Searchbar_SearchForm__2b46i",SearchForm_button:"Searchbar_SearchForm_button__dEKuY",SearchForm_button_label:"Searchbar_SearchForm_button_label__2DGx1",SearchForm_input:"Searchbar_SearchForm_input__3HoB5"}},42:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(6),c=a.n(n),o=a(11),i=a(3),s=a(9),l=a.n(s),u=a(4),m=a.n(u),b=a(0);function j(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(i.a)(a,2),c=n[0],o=n[1];return Object(b.jsx)("header",{className:m.a.Searchbar,children:Object(b.jsxs)("form",{className:m.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()&&(t(c),o(""))},children:[Object(b.jsx)("button",{type:"submit",className:m.a.SearchForm_button,children:Object(b.jsx)("span",{className:m.a.SearchForm_button_label,children:"Search"})}),Object(b.jsx)("input",{onChange:function(e){o(e.currentTarget.value.toLowerCase())},className:m.a.SearchForm_input,type:"text",placeholder:"Search images and photos"})]})})}var h=a(12),_=a.n(h),d=a(13),f=a.n(d);function g(e){var t=e.src;return Object(b.jsx)("img",{src:t,className:f.a.ImageGalleryItem_image,alt:"images"})}function p(e){var t=e.images;return Object(b.jsx)(b.Fragment,{children:0!==t.length&&Object(b.jsx)("ul",{className:_.a.ImageGallery,children:t.map((function(e){var t=e.id,a=e.webformatURL;return Object(b.jsx)("li",{children:Object(b.jsx)(g,{src:a})},t)}))})})}var O=a(14),v=a.n(O);function x(e){var t=e.onClick;return Object(b.jsx)("button",{type:"button",className:v.a.Button,onClick:t,children:"Load more"})}var S=a(10),I=a.n(S),y=document.getElementById("modal-root");function w(e){var t=e.src,a=e.onClose;Object(r.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&a()};return Object(n.createPortal)(Object(b.jsx)("div",{className:I.a.Overlay,onClick:function(e){e.target===e.currentTarget&&a()},children:Object(b.jsx)("div",{className:I.a.Modal,width:"300",heigth:"300",children:Object(b.jsx)("img",{src:t,alt:"images"})})}),y)}var F=a(15),G=a.n(F);a(41);function k(){return Object(b.jsx)(G.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:1e5})}var L=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),s=Object(i.a)(c,2),u=s[0],m=s[1],h=Object(r.useState)(1),_=Object(i.a)(h,2),d=_[0],f=_[1],g=Object(r.useState)(!1),O=Object(i.a)(g,2),v=O[0],S=O[1],I=Object(r.useState)(!1),y=Object(i.a)(I,2),F=y[0],G=y[1],L=Object(r.useState)(null),N=Object(i.a)(L,2),E=N[0],B=N[1];Object(r.useEffect)((function(){window.addEventListener("click",(function(e){var t=e.target.src,r=a.find((function(e){return e.webformatURL===t}));r&&(B(r.largeImageURL),S(!0))}))}),[a]),Object(r.useEffect)((function(){""!==u.trim()&&(1===d&&n([]),C())}),[u,d]);var C=function(){G(!0),function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=23320531-e67f94e9f6229e6b46894ace7&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()}))}(u,d).then((function(e){if(0===e.total)return G(!1),void alert("\u041f\u043e \u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e, \u0441\u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u0431\u043e\u043b\u0435\u0435 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u043c");var t=e.hits.map((function(e){return{id:e.id,largeImageURL:e.largeImageURL,webformatURL:e.webformatURL}}));n([].concat(Object(o.a)(a),Object(o.a)(t))),G(!1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){alert("\u041e\u0439, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a")}))};return Object(b.jsxs)("div",{className:l.a.App,children:[Object(b.jsx)(j,{onSubmit:function(e){m(e),f(1)}}),Object(b.jsx)(p,{images:a}),a.length>=12&&Object(b.jsx)(x,{onClick:function(e){e.preventDefault(),f((function(e){return e+1}))}}),v&&Object(b.jsx)(w,{src:E,onClose:function(){S(!1)}}),F&&Object(b.jsx)("div",{className:l.a.centred,children:Object(b.jsx)(k,{})})]})};c.a.render(Object(b.jsx)(L,{}),document.getElementById("root"))},9:function(e,t,a){e.exports={App:"App_App__1nxRe",centred:"App_centred__2tZP_"}}},[[42,1,2]]]);
//# sourceMappingURL=main.3b981f07.chunk.js.map